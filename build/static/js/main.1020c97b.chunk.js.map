{"version":3,"sources":["config.js","services/userService.js","Context.js","Home.js","Cats/Cats.js","services/dogServices.js","Dogs/Dogs.js","services/catServices.js","Adopt.js","app/App.js","index.js"],"names":["userService","getUsers","fetch","config","then","res","ok","json","e","Promise","reject","postUser","data","user","name","method","headers","body","JSON","stringify","deleteCurrent","React","createContext","setUser","removeUser","Home","handleSubmit","preventDefault","history","props","target","value","context","push","className","onSubmit","this","htmlFor","type","id","users","map","i","key","Component","defaultProps","contextType","Context","Cats","state","adopted","handleClick","setState","adoptCatAction","currentCat","gender","age","src","imageURL","alt","imageDescription","breed","story","currentUser","onClick","DogServices","getAllDogs","getNextDog","catch","Dogs","dogs","adoptDogAction","loaded","currentDog","CatServices","getAllCats","getNextCat","currentAdoptedPet","removeStatus","bothPetAdoptionStatus","adoptCat","catService","setTimeout","getNextCatPage","adoptDog","dogService","getNextDogPage","console","log","adoptBothPetAction","loadUsers","getRandomInt","max","Math","floor","random","shuffleUser","length","getCurrentUserStatus","getAdoptBothButton","newRandomUsers","slice","interval","setInterval","newRandomUser","shift","addRandom","stopTime","clearInterval","isLoading","Provider","App","isWaiting","count","updatedUsers","to","exact","path","component","Adopt","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1020c97b.chunk.js","sourcesContent":["export default {\n    API_ENDPOINT: 'https://serene-plateau-26863.herokuapp.com/api',\n}","import config from '../config';\n\nconst userService = {\n\n    getUsers() {\n        return fetch(`${config.API_ENDPOINT}/people`)\n            .then(res => {\n                if(!res.ok){\n                    res.json().then(e => e.Promise.reject(e))\n                } else {\n                    return res.json()\n            }\n        })\n    },\n\n    postUser(data) {\n        let user = {name: data}\n        return fetch(`${config.API_ENDPOINT}/people`, {\n            method: 'POST',\n            headers: {'content-type': 'application/json'},\n            body: JSON.stringify(user)\n        })\n        // .then(res => {\n        //     if(!res.ok){ \n        //         res.json().then(e => e.Promise.reject(e))\n        //     } else { \n        //         res.json()\n        //     }\n        // })\n    },\n\n    deleteCurrent() {\n        return fetch(`${config.API_ENDPOINT}/people`, {\n            method: 'DELETE'\n        })\n        .then(res => \n            (!res.ok)\n            ? res.json().then(e => e.Promise.reject(e))\n            : null\n        )\n    }\n}\n\nexport default userService;","import React from 'react';\n\nexport default React.createContext({\n    setUser: () => {},\n    removeUser: () => {},\n})","import \"./Home.css\"\nimport React, { Component } from \"react\";\nimport userService from \"./services/userService\";\nimport Context from \"./Context\";\n// import catServices from \"./services/catServices\";\n// import dogServices from \"./services/dogServices\";\n\nexport default class Home extends Component {\n  static defaultProps = {\n    history: { push: () => {} },\n  };\n\n  static contextType = Context;\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { history } = this.props;\n    const name = e.target.name.value;\n    userService.postUser(name);\n    this.context.setUser(name);\n    history.push(\"./adopt\");\n  };\n\n  render() {\n    return (\n      <div>\n        <h2>FIFO Adoption Agency</h2>\n\n        <h3>How FIFO works</h3>\n\n        <p className=\"main-desc\">\n          FIFO Adoption Agency places deserving pets with adoptive families that\n          need them. Each cat or dog is adopted in the order in which it was\n          surrendered to our care. this assures that no pet's stay is too long!\n        </p>\n\n        <ol className=\"steps\">\n          <li>Join our list of adoptive pet parents</li>\n          <li>You'll receive confirmation of entry to our waiting list</li>\n          <li>Hold tight! Our waiting list updates automatically.</li>\n          <li>You can see all of our fantastic animals until it's time to adopt!</li>\n          <li>When it's your turn to adopt, you may choose the dog or cat currently available.</li>\n        </ol>\n\n        <form onSubmit={this.handleSubmit}>\n          <label htmlFor=\"name\">Enter your name: </label>\n          <input type=\"text\" name=\"name\" id=\"name\"></input>\n          <button type=\"submit\">Adopt a Pet</button>\n        </form>\n\n        <h4>Users Currently Waiting:</h4>\n        <ol>\n          {this.context.users.map((user, i) => <li key={`${user}${i}`}>{user}</li>)}\n        </ol>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Context from \"../Context\";\n\nexport default class Cats extends Component {\n  state = {\n    //cats: [],\n    adopted: false,\n    //loaded: false,\n  };\n\n  static contextType = Context;\n\n  componentDidMount() {\n    /*\n    CatServices.getAllCats()\n      .then((cats) => {\n        this.setState({ cats });\n      })\n      .then(() => this.setState({ loaded: true }));\n    */\n  }\n\n  /*\n  getNextCat() {\n    console.log(\"FETCHIN NEW CAR\");\n    CatServices.getNextCat().then((currentCat) => {\n      this.setState({\n        currentCat: currentCat,\n        loaded: true,\n      });\n      console.log(\"fetch new current cat\", currentCat);\n    });\n  }\n  */\n\n  handleClick = (e) => {\n    this.setState({ adopted: true });\n    this.context.adoptCatAction();\n  };\n\n  render() {\n    if (this.context.currentCat === null) {\n      return <p>No more cats available</p>;\n    }\n    if (this.state.adopted) {\n      return <h2>You've adopted {this.context.currentCat.name}!</h2>;\n    }\n    return (\n      <div className=\"cats-all\">\n        <h2>{this.context.currentCat.name}</h2>\n        <p>\n          {this.context.currentCat.gender}, {this.context.currentCat.age} years\n          old\n        </p>\n        <img\n          src={this.context.currentCat.imageURL}\n          alt={this.context.currentCat.imageDescription}\n        />\n        <br />\n        <p>Breed: {this.context.currentCat.breed}</p>\n        <p>{this.context.currentCat.story}</p>\n        {this.context.currentUser === this.context.user && !this.state.adopted && (\n          <button type=\"button\" onClick={this.handleClick}>\n            Adopt {this.context.currentCat.name}!\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import config from \"../config\";\n\nconst DogServices = {\n  getAllDogs() {\n    return fetch(`${config.API_ENDPOINT}/pets/dogs`).then((res) => {\n      if (!res.ok) {\n        res.json().then((e) => Promise.reject(e));\n      } else {\n        return res.json();\n      }\n    });\n  },\n\n  getNextDog() {\n    return fetch(`${config.API_ENDPOINT}/pets/dog`)\n      .then((res) => (res.ok ? res.json() : null))\n      .catch(() => null);\n  },\n\n  deleteCurrent() {\n    return fetch(`${config.API_ENDPOINT}/pets/dog`, {\n      method: \"DELETE\",\n    }).then((res) =>\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : null\n    );\n  },\n};\n\nexport default DogServices;\n","import React, { Component } from \"react\";\nimport DogServices from \"../services/dogServices\";\nimport Context from \"../Context\";\n\nexport default class Dogs extends Component {\n  state = {\n    dogs: [],\n    adopted: false,\n  };\n\n  static contextType = Context;\n\n  componentDidMount() {\n    DogServices.getAllDogs()\n      .then((dogs) => {\n        this.setState({ dogs });\n      })\n      .then(() => this.setState({ loaded: true }));\n  }\n\n  handleClick = (e) => {\n    this.setState({ adopted: true });\n    this.context.adoptDogAction();\n  };\n\n  render() {\n    if (this.context.currentDog === null) {\n      return <p>No dogs available</p>;\n    }\n    if (this.state.adopted) {\n      return <h2>You've adopted {this.context.currentDog.name}!</h2>;\n    }\n    return (\n      <div className=\"dogs-all\">\n        <h2>{this.context.currentDog.name}</h2>\n        <p>\n          {this.context.currentDog.gender}, {this.context.currentDog.age} years\n          old\n        </p>\n        <img\n          src={this.context.currentDog.imageURL}\n          alt={this.context.currentDog.imageDescription}\n        />\n        <br />\n        <p>Breed: {this.context.currentDog.breed}</p>\n        <p>{this.context.currentDog.story}</p>\n        {this.context.user === this.context.currentUser && !this.state.adopted && (\n          <button type=\"button\" onClick={this.handleClick}>\n            Adopt {this.context.currentDog.name}!\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import config from \"../config\";\n\nconst CatServices = {\n  getAllCats() {\n    return fetch(`${config.API_ENDPOINT}/pets/cats`).then((res) => {\n      if (!res.ok) {\n        res.json().then((e) => Promise.reject(e));\n      } else {\n        return res.json();\n      }\n    });\n  },\n\n  getNextCat() {\n    return fetch(`${config.API_ENDPOINT}/pets/cat`)\n      .then((res) => (res.ok ? res.json() : null))\n      .catch(() => null);\n  },\n\n  deleteCurrent() {\n    return fetch(`${config.API_ENDPOINT}/pets/cat`, {\n      method: \"DELETE\",\n    }).then((res) =>\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : null\n    );\n  },\n};\n\nexport default CatServices;\n","import React, { Component } from \"react\";\nimport Context from \"./Context\";\nimport Cats from \"./Cats/Cats\";\nimport Dogs from \"./Dogs/Dogs\";\nimport userService from \"./services/userService\";\nimport catService from \"./services/catServices\";\nimport dogService from \"./services/dogServices\";\n\nexport default class Home extends Component {\n  state = {\n    //cats: [],\n    currentCat: null,\n    currentDog: null,\n    currentAdoptedPet: null,\n    removeStatus: false,\n    bothPetAdoptionStatus: false,\n  };\n\n  static contextType = Context;\n\n  componentDidMount() {\n    this.context.loadUsers();\n\n    this.getNextCat();\n    this.getNextDog();\n\n    let newRandomUsers = this.context.newRandomUsers.slice();\n    const interval = setInterval(() => {\n      if (this.context.user === this.context.users[0]) {\n        setInterval(() => {\n          if (newRandomUsers.length) {\n            const newRandomUser = newRandomUsers.shift();\n            this.context.addRandom(newRandomUser);\n          }\n        }, this.context.stopTime);\n        clearInterval(interval);\n      } else {\n        this.shuffleUser();\n      }\n    }, this.context.stopTime);\n  }\n  componentWillUnmount() {}\n\n  adoptCat = () => {\n    this.setState(\n      {\n        currentAdoptedPet: this.state.currentCat,\n      },\n      function () {\n        if (!this.state.currentCat) return;\n        catService.deleteCurrent().then(() => {\n          setTimeout(() => {\n            this.getNextCatPage();\n          }, 2000);\n        });\n      }\n    );\n  };\n  adoptDog = () => {\n    this.setState(\n      {\n        currentAdoptedPet: this.state.currentDog,\n      },\n      function () {\n        if (!this.state.currentDog) return;\n        dogService.deleteCurrent().then(() => {\n          setTimeout(() => {\n            this.getNextDogPage();\n          }, 2000);\n        });\n      }\n    );\n  };\n\n  adoptCatAction = () => {\n    this.setState(\n      {\n        currentAdoptedPet: this.state.currentCat,\n        removeStatus: true,\n      },\n      function () {\n        if (!this.state.currentCat) return;\n        catService.deleteCurrent().then(() => {\n          setTimeout(() => {\n            console.log(\"redirect to the home page\");\n            this.props.history.push(\"/\");\n          }, 2000);\n        });\n      }\n    );\n  };\n  adoptDogAction = () => {\n    this.setState(\n      {\n        currentAdoptedPet: this.state.currentDog,\n        removeStatus: true,\n      },\n      function () {\n        if (!this.state.currentDog) return;\n        dogService.deleteCurrent().then(() => {\n          setTimeout(() => {\n            console.log(\"redirect to the home page\");\n            this.props.history.push(\"/\");\n          }, 2000);\n        });\n      }\n    );\n  };\n  adoptBothPetAction = () => {\n    this.setState(\n      {\n        bothPetAdoptionStatus: true,\n      },\n      function () {\n        if (!this.state.currentDog || !this.state.currentCat) return;\n        dogService.deleteCurrent().then(() => {\n          catService.deleteCurrent().then(() => {\n            setTimeout(() => {\n              console.log(\"redirect to the home page\");\n              this.props.history.push(\"/\");\n            }, 2000);\n          });\n        });\n      }\n    );\n  };\n\n  getNextDogPage = () => {\n    dogService.getNextDog().then((currentDog) => {\n      this.context.loadUsers();\n      this.setState({\n        currentDog: currentDog,\n        currentAdoptedPet: null,\n      });\n    });\n  };\n\n  getNextCatPage = () => {\n    catService.getNextCat().then((currentCat) => {\n      this.context.loadUsers();\n      this.setState({\n        currentCat: currentCat,\n        currentAdoptedPet: null,\n      });\n    });\n  };\n\n  getRandomInt = (max) => {\n    return Math.floor(Math.random() * Math.floor(max)); //60\n  };\n\n  //need to clear interval from set interval with componenet did unmount\n  shuffleUser = () => {\n    if (this.context.users.length) {\n      //it means that you are the only user left in the queue\n      //so you are in front of the line so you start adding users\n      userService.deleteCurrent().then(() => {\n        if (this.getRandomInt(100) < 50) {\n          this.adoptCat();\n        } else {\n          this.adoptDog();\n        }\n      });\n    }\n  };\n\n  getNextCat() {\n    catService.getNextCat().then((currentCat) => {\n      this.setState({\n        currentCat,\n      });\n    });\n  }\n\n  getNextDog() {\n    dogService.getNextDog().then((currentDog) => {\n      this.setState({\n        currentDog,\n      });\n    });\n  }\n\n  getCurrentUserStatus = () => {\n    if (this.state.bothPetAdoptionStatus) {\n      return (\n        \"You've adopted \" +\n        this.state.currentCat.name +\n        \" and \" +\n        this.state.currentDog.name\n      );\n    }\n    if (this.state.removeStatus) {\n      return;\n    }\n    if (this.state.currentAdoptedPet == null) {\n      return this.context.currentUser + \" is currently adopting\";\n    }\n    return (\n      this.context.currentUser +\n      \" has adopted \" +\n      this.state.currentAdoptedPet.name\n    );\n  };\n\n  getAdoptBothButton = () => {\n    if (\n      this.state.currentCat == null ||\n      this.state.currentDog == null ||\n      this.context.user !== this.context.users[0] ||\n      this.state.bothPetAdoptionStatus\n    ) {\n      return;\n    }\n\n    return (\n      <button type=\"button\" onClick={this.adoptBothPetAction}>\n        Adopt {this.state.currentDog.name} and {this.state.currentCat.name}!\n      </button>\n    );\n  };\n  //   addToQueue = () => {\n  //     while(this.context.users.length < 5){\n  //         setInterval(() => {\n  //             userService.postUser('random')\n  //             this.context.loadUsers()\n  //         }, 5000);\n  //     }\n  //   };\n\n  render() {\n    let value = {\n      currentCat: this.state.currentCat,\n      currentDog: this.state.currentDog,\n      currentUser: this.context.currentUser,\n      user: this.context.user,\n      adoptDogAction: this.adoptDogAction,\n      adoptCatAction: this.adoptCatAction,\n    };\n    if (this.context.isLoading) {\n      return <p>Loading</p>;\n    } else {\n      return (\n        <Context.Provider value={value}>\n          <div>\n            <h2>{this.getCurrentUserStatus()}</h2>\n            {/* The Cats and Dogs modules should cooperate with the displayQueue function; \n              whenever an imaginary user is deleted from the queue, a cat and/or dog should also be deleted.\n              They should also display \"Adopted!\" or something to that effect whenever they are deleted. */}\n            {!this.state.bothPetAdoptionStatus && <Cats className=\"pet\" />}\n            {!this.state.bothPetAdoptionStatus && <Dogs className=\"pet\" />}\n            {this.getAdoptBothButton()}\n          </div>\n        </Context.Provider>\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport Home from \"../Home\";\nimport Adopt from \"../Adopt\";\nimport Context from \"../Context\";\nimport userService from \"../services/userService\";\n\nexport default class App extends Component {\n  state = {\n    user: null,\n    isWaiting: false,\n    users: [],\n    count: 0,\n    isLoading: false,\n  };\n\n  setUser = (user) => {\n    this.setState({ isLoading: true });\n    this.setState({\n      user: user,\n      isWaiting: true,\n      users: [...this.state.users, user],\n      isLoading: false,\n    });\n  };\n\n  loadUsers = () => {\n    userService.getUsers().then((users) => {\n      this.setState({ users });\n    });\n  };\n\n  removeUser = () => {\n    if (this.state.users[0] !== this.state.user) {\n      //remove the first user because that came first and will go out first\n      const updatedUsers = this.state.users.slice(1, this.state.users.length);\n      this.setState({ users: updatedUsers });\n    }\n  };\n\n  addRandom = (user) => {\n    userService.postUser(user).then(this.loadUsers());\n  };\n\n  componentDidMount() {\n    this.loadUsers();\n  }\n\n  render() {\n    let value = {\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      user: this.state.user,\n      isWaiting: this.state.isWaiting,\n      currentUser: this.state.users[0], //first user in will be first user out\n      users: this.state.users,\n      isLoading: this.state.isLoading,\n      loadUsers: this.loadUsers,\n      addRandom: this.addRandom,\n      //add as many random names as many people you need to be\n      //after yourself\n      newRandomUsers: [\n        \"Random User 1\",\n        \"Random User 2\",\n        \"Random User 3\",\n        \"Random User 4\",\n        \"Random User 5\",\n      ],\n      stopTime: 5000, //time between users\n    };\n\n    return (\n      <Context.Provider value={value}>\n        <div className=\"center\">\n          <Link to=\"/\">\n            <h1>Petful</h1>\n          </Link>\n          <div className=\"petSection\">\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/adopt\" component={Adopt} />\n          </div>\n        </div>\n      </Context.Provider>\n    );\n  }\n}\n","import './index.css'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app/App'\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'))\n"],"sourceRoot":""}