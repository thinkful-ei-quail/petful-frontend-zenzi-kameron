{"version":3,"sources":["config.js","services/userService.js","Context.js","Home.js","Cats/Cats.js","services/dogServices.js","Dogs/Dogs.js","services/catServices.js","Adopt.js","app/App.js","index.js"],"names":["userService","getUsers","fetch","config","then","res","ok","json","e","Promise","reject","postUser","data","user","name","method","headers","body","JSON","stringify","deleteCurrent","Error","React","createContext","setUser","removeUser","Home","state","currentPets","handleSubmit","preventDefault","history","props","target","value","context","push","pets","setState","className","onSubmit","this","htmlFor","type","id","users","map","i","key","cats","cat","src","imageURL","alt","description","dogs","dog","Component","defaultProps","contextType","Context","Cats","adopted","handleClick","adoptCatAction","currentCat","gender","age","imageDescription","breed","story","currentUser","onClick","DogServices","getAllDogs","getNextDog","catch","Dogs","adoptDogAction","loaded","currentDog","CatServices","getAllCats","getNextCat","currentAdoptedPet","removeStatus","bothPetAdoptionStatus","adoptCat","catService","setTimeout","getNextCatPage","adoptDog","dogService","getNextDogPage","adoptBothPetAction","console","log","loadUsers","getRandomInt","max","Math","floor","random","shuffleUser","length","getCurrentUserStatus","getAdoptBothButton","newRandomUsers","slice","interval","setInterval","newRandomUser","shift","addRandom","stopTime","clearInterval","isLoading","Provider","App","isWaiting","count","updatedUsers","to","exact","path","component","Adopt","ReactDOM","render","document","getElementById"],"mappings":"6TAAe,G,YACG,kDC2CHA,EA1CK,CAEhBC,SAFgB,WAGZ,OAAOC,MAAM,GAAD,OAAIC,EAAJ,YACPC,MAAK,SAAAC,GACF,GAAIA,EAAIC,GAGJ,OAAOD,EAAIE,OAFXF,EAAIE,OAAOH,MAAK,SAAAI,GAAC,OAAIA,EAAEC,QAAQC,OAAOF,UAOtDG,SAbgB,SAaPC,GACL,IAAIC,EAAO,CAACC,KAAMF,GAClB,OAAOV,MAAM,GAAD,OAAIC,EAAJ,WAAkC,CAC1CY,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAUN,MAW7BO,cA7BgB,WA8BZ,OAAOlB,MAAM,GAAD,OAAIC,EAAJ,WAAkC,CAC1CY,OAAQ,SACRC,QAAS,CAAC,eAAgB,sBAE7BZ,MAAK,SAAAC,GACF,IAAIA,EACA,MAAM,IAAIgB,MAAM,6BCpCjBC,MAAMC,cAAc,CAC/BC,QAAS,aACTC,WAAY,eCIKC,E,4MACnBC,MAAQ,CACNC,YAAa,I,EAoBfC,aAAe,SAACrB,GACdA,EAAEsB,iBADkB,IAEZC,EAAY,EAAKC,MAAjBD,QACFjB,EAAON,EAAEyB,OAAOnB,KAAKoB,MAC3BlC,EAAYW,SAASG,GACrB,EAAKqB,QAAQX,QAAQV,GACrBiB,EAAQK,KAAK,Y,kEAlBM,IAAD,OAClBlC,MAAM,GAAD,OAAIC,EAAJ,UAAgCC,MAAK,SAACC,GACzC,GAAKA,EAAIC,GAGP,OAAOD,EAAIE,OAFXF,EAAIE,OAAOH,MAAK,SAACI,GAAD,OAAOC,QAAQC,OAAOF,SAIvCJ,MAAK,SAAAiC,GAAI,OACZ,EAAKC,SAAS,CAACV,YAAaS,S,+BAc5B,OACE,6BACE,oDAEA,8CAEA,uBAAGE,UAAU,aAAb,mNAMA,wBAAIA,UAAU,SACZ,qEACA,wFACA,mFACA,kGACA,iHAGF,0BAAMC,SAAUC,KAAKZ,cACnB,2BAAOa,QAAQ,QAAf,qBACA,2BAAOC,KAAK,OAAO7B,KAAK,OAAO8B,GAAG,SAClC,4BAAQD,KAAK,UAAb,gBAGF,wDACA,4BACGF,KAAKN,QAAQU,MAAMC,KAAI,SAACjC,EAAMkC,GAAP,OAAa,wBAAIC,IAAG,UAAKnC,GAAL,OAAYkC,IAAMlC,OAEhE,yDACA,wBAAI0B,UAAU,YACXE,KAAKd,MAAMC,YAAYqB,MAAQR,KAAKd,MAAMC,YAAYqB,KAAKH,KAAI,SAACI,EAAKH,GAAN,OAAY,wBAAIC,IAAG,UAAKE,EAAIpC,MAAT,OAAgBiC,IAAK,yBAAKI,IAAKD,EAAIE,SAAUC,IAAKH,EAAII,YAAaf,UAAU,iBAElK,yDACA,wBAAIA,UAAU,YACXE,KAAKd,MAAMC,YAAY2B,MAAQd,KAAKd,MAAMC,YAAY2B,KAAKT,KAAI,SAACU,EAAKT,GAAN,OAAY,wBAAIC,IAAG,UAAKQ,EAAI1C,MAAT,OAAgBiC,IAAK,yBAAKI,IAAKK,EAAIJ,SAAUC,IAAKG,EAAIF,YAAaf,UAAU,sB,GApExIkB,aAAb/B,EAIZgC,aAAe,CACpB3B,QAAS,CAAEK,KAAM,eALAV,EAQZiC,YAAcC,E,ICbFC,E,4MACnBlC,MAAQ,CAENmC,SAAS,G,EA6BXC,YAAc,SAACvD,GACb,EAAK8B,SAAS,CAAEwB,SAAS,IACzB,EAAK3B,QAAQ6B,kB,oGAIb,OAAgC,OAA5BvB,KAAKN,QAAQ8B,WACR,qDAELxB,KAAKd,MAAMmC,QACN,8CAAoBrB,KAAKN,QAAQ8B,WAAWnD,KAA5C,KAGP,yBAAKyB,UAAU,YACb,4BAAKE,KAAKN,QAAQ8B,WAAWnD,MAC7B,2BACG2B,KAAKN,QAAQ8B,WAAWC,OAD3B,KACqCzB,KAAKN,QAAQ8B,WAAWE,IAD7D,cAIA,yBACEhB,IAAKV,KAAKN,QAAQ8B,WAAWb,SAC7BC,IAAKZ,KAAKN,QAAQ8B,WAAWG,mBAE/B,6BACA,qCAAW3B,KAAKN,QAAQ8B,WAAWI,OACnC,2BAAI5B,KAAKN,QAAQ8B,WAAWK,OAC3B7B,KAAKN,QAAQoC,cAAgB9B,KAAKN,QAAQtB,OAAS4B,KAAKd,MAAMmC,SAC7D,4BAAQnB,KAAK,SAAS6B,QAAS/B,KAAKsB,aAApC,SACStB,KAAKN,QAAQ8B,WAAWnD,KADjC,U,GA3DwB2C,aAAbI,EAOZF,YAAcC,ECRvB,IA0Bea,EA1BK,CAClBC,WADkB,WAEhB,OAAOxE,MAAM,GAAD,OAAIC,EAAJ,eAAqCC,MAAK,SAACC,GACrD,GAAKA,EAAIC,GAGP,OAAOD,EAAIE,OAFXF,EAAIE,OAAOH,MAAK,SAACI,GAAD,OAAOC,QAAQC,OAAOF,UAO5CmE,WAXkB,WAYhB,OAAOzE,MAAM,GAAD,OAAIC,EAAJ,cACTC,MAAK,SAACC,GAAD,OAAUA,EAAIC,GAAKD,EAAIE,OAAS,QACrCqE,OAAM,kBAAM,SAGjBxD,cAjBkB,WAkBhB,OAAOlB,MAAM,GAAD,OAAIC,EAAJ,aAAoC,CAC9CY,OAAQ,WACPX,MAAK,SAACC,GAAD,OACLA,EAAIC,GAAiD,KAA5CD,EAAIE,OAAOH,MAAK,SAACI,GAAD,OAAOC,QAAQC,OAAOF,WCnBjCqE,E,4MACnBlD,MAAQ,CACN4B,KAAM,GACNO,SAAS,G,EAaXC,YAAc,SAACvD,GACb,EAAK8B,SAAS,CAAEwB,SAAS,IACzB,EAAK3B,QAAQ2C,kB,kEAVM,IAAD,OAClBL,EAAYC,aACTtE,MAAK,SAACmD,GACL,EAAKjB,SAAS,CAAEiB,YAEjBnD,MAAK,kBAAM,EAAKkC,SAAS,CAAEyC,QAAQ,S,+BAStC,OAAgC,OAA5BtC,KAAKN,QAAQ6C,WACR,gDAELvC,KAAKd,MAAMmC,QACN,8CAAoBrB,KAAKN,QAAQ6C,WAAWlE,KAA5C,KAGP,yBAAKyB,UAAU,YACb,4BAAKE,KAAKN,QAAQ6C,WAAWlE,MAC7B,2BACG2B,KAAKN,QAAQ6C,WAAWd,OAD3B,KACqCzB,KAAKN,QAAQ6C,WAAWb,IAD7D,cAIA,yBACEhB,IAAKV,KAAKN,QAAQ6C,WAAW5B,SAC7BC,IAAKZ,KAAKN,QAAQ6C,WAAWZ,mBAE/B,6BACA,qCAAW3B,KAAKN,QAAQ6C,WAAWX,OACnC,2BAAI5B,KAAKN,QAAQ6C,WAAWV,OAC3B7B,KAAKN,QAAQtB,OAAS4B,KAAKN,QAAQoC,cAAgB9B,KAAKd,MAAMmC,SAC7D,4BAAQnB,KAAK,SAAS6B,QAAS/B,KAAKsB,aAApC,SACStB,KAAKN,QAAQ6C,WAAWlE,KADjC,U,GA3CwB2C,aAAboB,EAMZlB,YAAcC,ECRvB,IA0BeqB,EA1BK,CAClBC,WADkB,WAEhB,OAAOhF,MAAM,GAAD,OAAIC,EAAJ,eAAqCC,MAAK,SAACC,GACrD,GAAKA,EAAIC,GAGP,OAAOD,EAAIE,OAFXF,EAAIE,OAAOH,MAAK,SAACI,GAAD,OAAOC,QAAQC,OAAOF,UAO5C2E,WAXkB,WAYhB,OAAOjF,MAAM,GAAD,OAAIC,EAAJ,cACTC,MAAK,SAACC,GAAD,OAAUA,EAAIC,GAAKD,EAAIE,OAAS,QACrCqE,OAAM,kBAAM,SAGjBxD,cAjBkB,WAkBhB,OAAOlB,MAAM,GAAD,OAAIC,EAAJ,aAAoC,CAC9CY,OAAQ,WACPX,MAAK,SAACC,GAAD,OACLA,EAAIC,GAAiD,KAA5CD,EAAIE,OAAOH,MAAK,SAACI,GAAD,OAAOC,QAAQC,OAAOF,WCfjCkB,E,4MACnBC,MAAQ,CACNsC,WAAY,KACZe,WAAY,KACZI,kBAAmB,KACnBC,cAAc,EACdC,uBAAuB,G,EA4BzBC,SAAW,WACT,EAAKjD,SACH,CACE8C,kBAAmB,EAAKzD,MAAMsC,aAEhC,WAAa,IAAD,OACLxB,KAAKd,MAAMsC,YAChBuB,EAAWpE,gBAAgBhB,MAAK,WAC9BqF,YAAW,WACT,EAAKC,mBACJ,Y,EAKXC,SAAW,WACT,EAAKrD,SACH,CACE8C,kBAAmB,EAAKzD,MAAMqD,aAEhC,WAAa,IAAD,OACLvC,KAAKd,MAAMqD,YAChBY,EAAWxE,gBAAgBhB,MAAK,WAC9BqF,YAAW,WACT,EAAKI,mBACJ,Y,EAMX7B,eAAiB,WACf,EAAK1B,SAAS,CACV8C,kBAAmB,EAAKzD,MAAMsC,WAC9BoB,cAAc,IACd,WACK,EAAK1D,MAAMsC,YAGhBuB,EAAWpE,gBAAgBhB,MAAK,WAC9BqF,YAAW,WACT,EAAKzD,MAAMD,QAAQK,KAAK,OACvB,QAEJhC,MAAK,WACJJ,EAAYoB,gBACZ,EAAKe,QAAQX,QAAQ,MACrB,EAAKW,QAAQV,oB,EAMrBqD,eAAiB,WACf,EAAKxC,SACH,CACE8C,kBAAmB,EAAKzD,MAAMqD,WAC9BK,cAAc,IAEhB,WAAa,IAAD,OACL5C,KAAKd,MAAMqD,YAChBY,EAAWxE,gBAAgBhB,MAAK,WAC9BqF,YAAW,WACT,EAAKzD,MAAMD,QAAQK,KAAK,OACvB,QAEJhC,MAAK,WACJJ,EAAYoB,gBACZ,EAAKe,QAAQX,QAAQ,MACrB,EAAKW,QAAQV,oB,EAKrBqE,mBAAqB,WACnB,EAAKxD,SACH,CACEgD,uBAAuB,IAEzB,WAAa,IAAD,OACL7C,KAAKd,MAAMqD,YAAevC,KAAKd,MAAMsC,YAC1C2B,EAAWxE,gBAAgBhB,MAAK,WAC9BoF,EAAWpE,gBAAgBhB,MAAK,WAC9BqF,YAAW,WACTM,QAAQC,IAAI,6BACZ,EAAKhE,MAAMD,QAAQK,KAAK,OACvB,e,EAObyD,eAAiB,WACfD,EAAWjB,aAAavE,MAAK,SAAC4E,GAC5B,EAAK7C,QAAQ8D,YACb,EAAK3D,SAAS,CACZ0C,WAAYA,EACZI,kBAAmB,W,EAKzBM,eAAiB,WACfF,EAAWL,aAAa/E,MAAK,SAAC6D,GAC5B,EAAK9B,QAAQ8D,YACb,EAAK3D,SAAS,CACZ2B,WAAYA,EACZmB,kBAAmB,W,EAKzBc,aAAe,SAACC,GACd,OAAOC,KAAKC,MAAMD,KAAKE,SAAWF,KAAKC,MAAMF,K,EAG/CI,YAAc,WACR,EAAKpE,QAAQU,MAAM2D,QACrBxG,EAAYoB,gBAAgBhB,MAAK,WAC3B,EAAK8F,aAAa,KAAO,GAC3B,EAAKX,WAEL,EAAKI,e,EAsBbc,qBAAuB,WACrB,OAAI,EAAK9E,MAAM2D,sBAEX,kBACA,EAAK3D,MAAMsC,WAAWnD,KACtB,QACA,EAAKa,MAAMqD,WAAWlE,KAGtB,EAAKa,MAAM0D,kBAAf,EAGoC,MAAhC,EAAK1D,MAAMyD,kBACN,EAAKjD,QAAQoC,YAAc,yBAGlC,EAAKpC,QAAQoC,YACb,gBACA,EAAK5C,MAAMyD,kBAAkBtE,M,EAIjC4F,mBAAqB,WACnB,GAC2B,MAAzB,EAAK/E,MAAMsC,YACc,MAAzB,EAAKtC,MAAMqD,YACX,EAAK7C,QAAQtB,OAAS,EAAKsB,QAAQU,MAAM,KACzC,EAAKlB,MAAM2D,sBAKb,OACE,4BAAQ3C,KAAK,SAAS6B,QAAS,EAAKsB,oBAApC,SACS,EAAKnE,MAAMqD,WAAWlE,KAD/B,QAC0C,EAAKa,MAAMsC,WAAWnD,KADhE,M,kEAzMiB,IAAD,OAClB2B,KAAKN,QAAQ8D,YAEbxD,KAAK0C,aACL1C,KAAKkC,aAEL,IAAIgC,EAAiBlE,KAAKN,QAAQwE,eAAeC,QAC3CC,EAAWC,aAAY,WACvB,EAAK3E,QAAQtB,OAAS,EAAKsB,QAAQU,MAAM,IAC3CiE,aAAY,WACV,GAAIH,EAAeH,OAAQ,CACzB,IAAMO,EAAgBJ,EAAeK,QACrC,EAAK7E,QAAQ8E,UAAUF,MAExB,EAAK5E,QAAQ+E,UAChBC,cAAcN,IAEd,EAAKN,gBAEN9D,KAAKN,QAAQ+E,Y,mFAqIJ,IAAD,OACX1B,EAAWL,aAAa/E,MAAK,SAAC6D,GAC5B,EAAK3B,SAAS,CACZ2B,oB,mCAKQ,IAAD,OACX2B,EAAWjB,aAAavE,MAAK,SAAC4E,GAC5B,EAAK1C,SAAS,CACZ0C,oB,+BA6CJ,IAAI9C,EAAQ,CACV+B,WAAYxB,KAAKd,MAAMsC,WACvBe,WAAYvC,KAAKd,MAAMqD,WACvBT,YAAa9B,KAAKN,QAAQoC,YAC1B1D,KAAM4B,KAAKN,QAAQtB,KACnBiE,eAAgBrC,KAAKqC,eACrBd,eAAgBvB,KAAKuB,gBAEvB,OAAIvB,KAAKN,QAAQiF,UACR,sCAGL,kBAACxD,EAAQyD,SAAT,CAAkBnF,MAAOA,GACvB,6BACE,4BAAKO,KAAKgE,yBACRhE,KAAKd,MAAM2D,uBAAyB,kBAAC,EAAD,CAAM/C,UAAU,SACpDE,KAAKd,MAAM2D,uBAAyB,kBAAC,EAAD,CAAM/C,UAAU,QACrDE,KAAKiE,2B,GA5OgBjD,aAAb/B,EASZiC,YAAcC,E,ICTF0D,E,4MACnB3F,MAAQ,CACNd,KAAM,KACN0G,WAAW,EACX1E,MAAO,GACP2E,MAAO,EACPJ,WAAW,G,EAGb5F,QAAU,SAACX,GACT,EAAKyB,SAAS,CAAE8E,WAAW,IAC3B,EAAK9E,SAAS,CACZzB,KAAMA,EACN0G,WAAW,EACX1E,MAAM,GAAD,mBAAM,EAAKlB,MAAMkB,OAAjB,CAAwBhC,IAC7BuG,WAAW,K,EAIfnB,UAAY,WACVjG,EAAYC,WAAWG,MAAK,SAACyC,GAC3B,EAAKP,SAAS,CAAEO,c,EAIpBpB,WAAa,WACX,GAAI,EAAKE,MAAMkB,MAAM,KAAO,EAAKlB,MAAMd,KAAM,CAC3C,IAAM4G,EAAe,EAAK9F,MAAMkB,MAAM+D,MAAM,EAAG,EAAKjF,MAAMkB,MAAM2D,QAChE,EAAKlE,SAAS,CAAEO,MAAO4E,M,EAI3BR,UAAY,SAACpG,GACXb,EAAYW,SAASE,GAAMT,KAAK,EAAK6F,c,kEAIrCxD,KAAKwD,c,+BAIL,IAAI/D,EAAQ,CACVV,QAASiB,KAAKjB,QACdC,WAAYgB,KAAKhB,WACjBZ,KAAM4B,KAAKd,MAAMd,KACjB0G,UAAW9E,KAAKd,MAAM4F,UACtBhD,YAAa9B,KAAKd,MAAMkB,MAAM,GAC9BA,MAAOJ,KAAKd,MAAMkB,MAClBuE,UAAW3E,KAAKd,MAAMyF,UACtBnB,UAAWxD,KAAKwD,UAChBgB,UAAWxE,KAAKwE,UAGhBN,eAAgB,CACd,gBACA,gBACA,gBACA,gBACA,iBAEFO,SAAU,KAGZ,OACE,kBAACtD,EAAQyD,SAAT,CAAkBnF,MAAOA,GACvB,yBAAKK,UAAU,UACb,kBAAC,IAAD,CAAMmF,GAAG,KACP,uCAEF,yBAAKnF,UAAU,cACb,kBAAC,IAAD,CAAOoF,OAAK,EAACC,KAAK,IAAIC,UAAWnG,IACjC,kBAAC,IAAD,CAAOkG,KAAK,SAASC,UAAWC,W,GAvEXrE,aCFjCsE,IAASC,OAAO,kBAAC,IAAD,KAAe,kBAAC,EAAD,OAAyBC,SAASC,eAAe,W","file":"static/js/main.542f3c36.chunk.js","sourcesContent":["export default {\n    API_ENDPOINT: 'https://serene-plateau-26863.herokuapp.com/api'\n}","import config from '../config';\n\nconst userService = {\n\n    getUsers() {\n        return fetch(`${config.API_ENDPOINT}/people`)\n            .then(res => {\n                if(!res.ok){\n                    res.json().then(e => e.Promise.reject(e))\n                } else {\n                    return res.json()\n            }\n        })\n    },\n\n    postUser(data) {\n        let user = {name: data}\n        return fetch(`${config.API_ENDPOINT}/people`, {\n            method: 'POST',\n            headers: {'content-type': 'application/json'},\n            body: JSON.stringify(user)\n        })\n        // .then(res => {\n        //     if(!res.ok){ \n        //         res.json().then(e => e.Promise.reject(e))\n        //     } else { \n        //         res.json()\n        //     }\n        // })\n    },\n\n    deleteCurrent() {\n        return fetch(`${config.API_ENDPOINT}/people`, {\n            method: 'DELETE',\n            headers: {'content-type': 'application/json'}\n        })\n        .then(res => {\n            if(!res) {\n                throw new Error('Something went wrong')\n            }\n        })\n    }\n}\n\nexport default userService;","import React from 'react';\n\nexport default React.createContext({\n    setUser: () => {},\n    removeUser: () => {},\n})","import \"./Home.css\"\nimport React, { Component } from \"react\";\nimport userService from \"./services/userService\";\nimport Context from \"./Context\";\nimport config from \"./config\"\n// import catServices from \"./services/catServices\";\n// import dogServices from \"./services/dogServices\";\n\nexport default class Home extends Component {\n  state = {\n    currentPets: []\n  }\n  static defaultProps = {\n    history: { push: () => {} },\n  };\n\n  static contextType = Context;\n\n  componentDidMount() {\n    fetch(`${config.API_ENDPOINT}/pets`).then((res) => {\n      if (!res.ok) {\n        res.json().then((e) => Promise.reject(e));\n      } else {\n        return res.json();\n      }\n    }).then(pets =>\n    this.setState({currentPets: pets})\n    )\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { history } = this.props;\n    const name = e.target.name.value;\n    userService.postUser(name);\n    this.context.setUser(name);\n    history.push(\"./adopt\");\n  };\n\n  render() {\n    return (\n      <div>\n        <h2>FIFO Adoption Agency</h2>\n\n        <h3>How FIFO works</h3>\n\n        <p className=\"main-desc\">\n          FIFO Adoption Agency places deserving pets with adoptive families that\n          need them. Each cat or dog is adopted in the order in which it was\n          surrendered to our care. this assures that no pet's stay is too long!\n        </p>\n\n        <ol className=\"steps\">\n          <li>Join our list of adoptive pet parents</li>\n          <li>You'll receive confirmation of entry to our waiting list</li>\n          <li>Hold tight! Our waiting list updates automatically.</li>\n          <li>You can see all of our fantastic animals until it's time to adopt!</li>\n          <li>When it's your turn to adopt, you may choose the dog or cat currently available.</li>\n        </ol>\n\n        <form onSubmit={this.handleSubmit}>\n          <label htmlFor=\"name\">Enter your name: </label>\n          <input type=\"text\" name=\"name\" id=\"name\"></input>\n          <button type=\"submit\">Adopt a Pet</button>\n        </form>\n\n        <h4>Users Currently Waiting:</h4>\n        <ol>\n          {this.context.users.map((user, i) => <li key={`${user}${i}`}>{user}</li>)}\n        </ol>\n        <h4>Cats Currently Available:</h4>\n        <ul className=\"homePets\">\n          {this.state.currentPets.cats && this.state.currentPets.cats.map((cat, i) => <li key={`${cat.name}${i}`}><img src={cat.imageURL} alt={cat.description} className=\"homePet\" /></li>)}\n        </ul>\n        <h4>Dogs Currently Available:</h4>\n        <ul className=\"homePets\">\n          {this.state.currentPets.dogs && this.state.currentPets.dogs.map((dog, i) => <li key={`${dog.name}${i}`}><img src={dog.imageURL} alt={dog.description} className=\"homePet\" /></li>)}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Context from \"../Context\";\n\nexport default class Cats extends Component {\n  state = {\n    //cats: [],\n    adopted: false,\n    //loaded: false,\n  };\n\n  static contextType = Context;\n\n  componentDidMount() {\n    /*\n    CatServices.getAllCats()\n      .then((cats) => {\n        this.setState({ cats });\n      })\n      .then(() => this.setState({ loaded: true }));\n    */\n  }\n\n  /*\n  getNextCat() {\n    console.log(\"FETCHIN NEW CAR\");\n    CatServices.getNextCat().then((currentCat) => {\n      this.setState({\n        currentCat: currentCat,\n        loaded: true,\n      });\n      console.log(\"fetch new current cat\", currentCat);\n    });\n  }\n  */\n\n  handleClick = (e) => {\n    this.setState({ adopted: true });\n    this.context.adoptCatAction();\n  };\n\n  render() {\n    if (this.context.currentCat === null) {\n      return <p>No more cats available</p>;\n    }\n    if (this.state.adopted) {\n      return <h2>You've adopted {this.context.currentCat.name}!</h2>;\n    }\n    return (\n      <div className=\"cats-all\">\n        <h2>{this.context.currentCat.name}</h2>\n        <p>\n          {this.context.currentCat.gender}, {this.context.currentCat.age} years\n          old\n        </p>\n        <img\n          src={this.context.currentCat.imageURL}\n          alt={this.context.currentCat.imageDescription}\n        />\n        <br />\n        <p>Breed: {this.context.currentCat.breed}</p>\n        <p>{this.context.currentCat.story}</p>\n        {this.context.currentUser === this.context.user && !this.state.adopted && (\n          <button type=\"button\" onClick={this.handleClick}>\n            Adopt {this.context.currentCat.name}!\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import config from \"../config\";\n\nconst DogServices = {\n  getAllDogs() {\n    return fetch(`${config.API_ENDPOINT}/pets/dogs`).then((res) => {\n      if (!res.ok) {\n        res.json().then((e) => Promise.reject(e));\n      } else {\n        return res.json();\n      }\n    });\n  },\n\n  getNextDog() {\n    return fetch(`${config.API_ENDPOINT}/pets/dog`)\n      .then((res) => (res.ok ? res.json() : null))\n      .catch(() => null);\n  },\n\n  deleteCurrent() {\n    return fetch(`${config.API_ENDPOINT}/pets/dog`, {\n      method: \"DELETE\",\n    }).then((res) =>\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : null\n    );\n  },\n};\n\nexport default DogServices;\n","import React, { Component } from \"react\";\nimport DogServices from \"../services/dogServices\";\nimport Context from \"../Context\";\n\nexport default class Dogs extends Component {\n  state = {\n    dogs: [],\n    adopted: false,\n  };\n\n  static contextType = Context;\n\n  componentDidMount() {\n    DogServices.getAllDogs()\n      .then((dogs) => {\n        this.setState({ dogs });\n      })\n      .then(() => this.setState({ loaded: true }));\n  }\n\n  handleClick = (e) => {\n    this.setState({ adopted: true });\n    this.context.adoptDogAction();\n  };\n\n  render() {\n    if (this.context.currentDog === null) {\n      return <p>No dogs available</p>;\n    }\n    if (this.state.adopted) {\n      return <h2>You've adopted {this.context.currentDog.name}!</h2>;\n    }\n    return (\n      <div className=\"dogs-all\">\n        <h2>{this.context.currentDog.name}</h2>\n        <p>\n          {this.context.currentDog.gender}, {this.context.currentDog.age} years\n          old\n        </p>\n        <img\n          src={this.context.currentDog.imageURL}\n          alt={this.context.currentDog.imageDescription}\n        />\n        <br />\n        <p>Breed: {this.context.currentDog.breed}</p>\n        <p>{this.context.currentDog.story}</p>\n        {this.context.user === this.context.currentUser && !this.state.adopted && (\n          <button type=\"button\" onClick={this.handleClick}>\n            Adopt {this.context.currentDog.name}!\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n","import config from \"../config\";\n\nconst CatServices = {\n  getAllCats() {\n    return fetch(`${config.API_ENDPOINT}/pets/cats`).then((res) => {\n      if (!res.ok) {\n        res.json().then((e) => Promise.reject(e));\n      } else {\n        return res.json();\n      }\n    });\n  },\n\n  getNextCat() {\n    return fetch(`${config.API_ENDPOINT}/pets/cat`)\n      .then((res) => (res.ok ? res.json() : null))\n      .catch(() => null);\n  },\n\n  deleteCurrent() {\n    return fetch(`${config.API_ENDPOINT}/pets/cat`, {\n      method: \"DELETE\",\n    }).then((res) =>\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : null\n    );\n  },\n};\n\nexport default CatServices;\n","import React, { Component } from \"react\";\nimport Context from \"./Context\";\nimport Cats from \"./Cats/Cats\";\nimport Dogs from \"./Dogs/Dogs\";\nimport userService from \"./services/userService\";\nimport catService from \"./services/catServices\";\nimport dogService from \"./services/dogServices\";\n\nexport default class Home extends Component {\n  state = {\n    currentCat: null,\n    currentDog: null,\n    currentAdoptedPet: null,\n    removeStatus: false,\n    bothPetAdoptionStatus: false,\n  };\n\n  static contextType = Context;\n\n  componentDidMount() {\n    this.context.loadUsers();\n\n    this.getNextCat();\n    this.getNextDog();\n\n    let newRandomUsers = this.context.newRandomUsers.slice();\n    const interval = setInterval(() => {\n      if (this.context.user === this.context.users[0]) {\n        setInterval(() => {\n          if (newRandomUsers.length) {\n            const newRandomUser = newRandomUsers.shift();\n            this.context.addRandom(newRandomUser);\n          }\n        }, this.context.stopTime);\n        clearInterval(interval);\n      } else {\n        this.shuffleUser();\n      }\n    }, this.context.stopTime);\n  }\n  componentWillUnmount() {}\n\n  adoptCat = () => {\n    this.setState(\n      {\n        currentAdoptedPet: this.state.currentCat,\n      },\n      function () {\n        if (!this.state.currentCat) return;\n        catService.deleteCurrent().then(() => {\n          setTimeout(() => {\n            this.getNextCatPage();\n          }, 2000);\n        });\n      }\n    );\n  };\n  adoptDog = () => {\n    this.setState(\n      {\n        currentAdoptedPet: this.state.currentDog,\n      },\n      function () {\n        if (!this.state.currentDog) return;\n        dogService.deleteCurrent().then(() => {\n          setTimeout(() => {\n            this.getNextDogPage();\n          }, 2000);\n        });\n      }\n    );\n  };\n\n  adoptCatAction = () => {\n    this.setState({\n        currentAdoptedPet: this.state.currentCat,\n        removeStatus: true,\n      },() => {\n        if (!this.state.currentCat) {\n          return\n        };\n        catService.deleteCurrent().then(() => {\n          setTimeout(() => {\n            this.props.history.push(\"/\");\n          }, 2000);\n        })\n        .then(() => {\n          userService.deleteCurrent();\n          this.context.setUser(null);\n          this.context.removeUser();\n        });\n      }\n    );\n  };\n\n  adoptDogAction = () => {\n    this.setState(\n      {\n        currentAdoptedPet: this.state.currentDog,\n        removeStatus: true,\n      },\n      function () {\n        if (!this.state.currentDog) return;\n        dogService.deleteCurrent().then(() => {\n          setTimeout(() => {\n            this.props.history.push(\"/\");\n          }, 2000);\n        })\n        .then(() => {\n          userService.deleteCurrent();\n          this.context.setUser(null);\n          this.context.removeUser();\n        });\n      }\n    );\n  };\n  adoptBothPetAction = () => {\n    this.setState(\n      {\n        bothPetAdoptionStatus: true,\n      },\n      function () {\n        if (!this.state.currentDog || !this.state.currentCat) return;\n        dogService.deleteCurrent().then(() => {\n          catService.deleteCurrent().then(() => {\n            setTimeout(() => {\n              console.log(\"redirect to the home page\");\n              this.props.history.push(\"/\");\n            }, 2000);\n          });\n        });\n      }\n    );\n  };\n\n  getNextDogPage = () => {\n    dogService.getNextDog().then((currentDog) => {\n      this.context.loadUsers();\n      this.setState({\n        currentDog: currentDog,\n        currentAdoptedPet: null,\n      });\n    });\n  };\n\n  getNextCatPage = () => {\n    catService.getNextCat().then((currentCat) => {\n      this.context.loadUsers();\n      this.setState({\n        currentCat: currentCat,\n        currentAdoptedPet: null,\n      });\n    });\n  };\n\n  getRandomInt = (max) => {\n    return Math.floor(Math.random() * Math.floor(max)); //60\n  };\n\n  shuffleUser = () => {\n    if (this.context.users.length) {\n      userService.deleteCurrent().then(() => {\n        if (this.getRandomInt(100) < 50) {\n          this.adoptCat();\n        } else {\n          this.adoptDog();\n        }\n      });\n    }\n  };\n\n  getNextCat() {\n    catService.getNextCat().then((currentCat) => {\n      this.setState({\n        currentCat,\n      });\n    });\n  }\n\n  getNextDog() {\n    dogService.getNextDog().then((currentDog) => {\n      this.setState({\n        currentDog,\n      });\n    });\n  }\n\n  getCurrentUserStatus = () => {\n    if (this.state.bothPetAdoptionStatus) {\n      return (\n        \"You've adopted \" +\n        this.state.currentCat.name +\n        \" and \" +\n        this.state.currentDog.name\n      );\n    }\n    if (this.state.removeStatus) {\n      return;\n    }\n    if (this.state.currentAdoptedPet == null) {\n      return this.context.currentUser + \" is currently adopting\";\n    }\n    return (\n      this.context.currentUser +\n      \" has adopted \" +\n      this.state.currentAdoptedPet.name\n    );\n  };\n\n  getAdoptBothButton = () => {\n    if (\n      this.state.currentCat == null ||\n      this.state.currentDog == null ||\n      this.context.user !== this.context.users[0] ||\n      this.state.bothPetAdoptionStatus\n    ) {\n      return;\n    }\n\n    return (\n      <button type=\"button\" onClick={this.adoptBothPetAction}>\n        Adopt {this.state.currentDog.name} and {this.state.currentCat.name}!\n      </button>\n    );\n  };\n\n  render() {\n    let value = {\n      currentCat: this.state.currentCat,\n      currentDog: this.state.currentDog,\n      currentUser: this.context.currentUser,\n      user: this.context.user,\n      adoptDogAction: this.adoptDogAction,\n      adoptCatAction: this.adoptCatAction,\n    };\n    if (this.context.isLoading) {\n      return <p>Loading</p>;\n    } else {\n      return (\n        <Context.Provider value={value}>\n          <div>\n            <h2>{this.getCurrentUserStatus()}</h2>\n            {!this.state.bothPetAdoptionStatus && <Cats className=\"pet\" />}\n            {!this.state.bothPetAdoptionStatus && <Dogs className=\"pet\" />}\n            {this.getAdoptBothButton()}\n          </div>\n        </Context.Provider>\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport Home from \"../Home\";\nimport Adopt from \"../Adopt\";\nimport Context from \"../Context\";\nimport userService from \"../services/userService\";\n\nexport default class App extends Component {\n  state = {\n    user: null,\n    isWaiting: false,\n    users: [],\n    count: 0,\n    isLoading: false,\n  };\n\n  setUser = (user) => {\n    this.setState({ isLoading: true });\n    this.setState({\n      user: user,\n      isWaiting: true,\n      users: [...this.state.users, user],\n      isLoading: false,\n    });\n  };\n\n  loadUsers = () => {\n    userService.getUsers().then((users) => {\n      this.setState({ users });\n    });\n  };\n\n  removeUser = () => {\n    if (this.state.users[0] !== this.state.user) {\n      const updatedUsers = this.state.users.slice(1, this.state.users.length);\n      this.setState({ users: updatedUsers });\n    }\n  };\n\n  addRandom = (user) => {\n    userService.postUser(user).then(this.loadUsers());\n  };\n\n  componentDidMount() {\n    this.loadUsers();\n  }\n\n  render() {\n    let value = {\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      user: this.state.user,\n      isWaiting: this.state.isWaiting,\n      currentUser: this.state.users[0], //first user in will be first user out\n      users: this.state.users,\n      isLoading: this.state.isLoading,\n      loadUsers: this.loadUsers,\n      addRandom: this.addRandom,\n      //add as many random names as many people you need to be\n      //after yourself\n      newRandomUsers: [\n        \"Random User 1\",\n        \"Random User 2\",\n        \"Random User 3\",\n        \"Random User 4\",\n        \"Random User 5\",\n      ],\n      stopTime: 5000, //time between users\n    };\n\n    return (\n      <Context.Provider value={value}>\n        <div className=\"center\">\n          <Link to=\"/\">\n            <h1>Petful</h1>\n          </Link>\n          <div className=\"petSection\">\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/adopt\" component={Adopt} />\n          </div>\n        </div>\n      </Context.Provider>\n    );\n  }\n}\n","import './index.css'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app/App'\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'))\n"],"sourceRoot":""}